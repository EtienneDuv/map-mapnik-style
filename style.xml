<!-- 
blue:   #092d4c
green:  #b2daa4 #7aa86a #7dd95d
grey:   #757874
 -->

<Map background-color="#FFFAE9">

    <Style name="roads">
      <Rule>
        <Filter>[highway] = secondary or [highway] = primary</Filter>
        <LineSymbolizer stroke="#807962" stroke-width="8" />
      </Rule>
      <Rule>
        <Filter>[highway] = path or [highway] = footway or [highway] = unclassified</Filter>
        <LineSymbolizer 
          stroke="#807962" 
          stroke-width="1" 
          stroke-linecap="round"
          stroke-linejoin="round" />
      </Rule>
      <Rule>
        <ElseFilter />
        <LineSymbolizer 
          stroke="#807962" 
          stroke-width="3" 
          stroke-linecap="round"
          stroke-linejoin="round" />
      </Rule>
    </Style>

    <Style name="rails">
      <Rule>
        <Filter>[railway] = tram</Filter>
        <LineSymbolizer 
          stroke="#012647" 
          stroke-width="5" 
          stroke-linecap="round"
          stroke-linejoin="round" />
      </Rule>
    </Style>

    <Style name="text">
      <Rule>
        <LineSymbolizer 
        stroke="#000000" 
        stroke-linecap="round" 
        stroke-linejoin="round" 
        stroke-width="10" 
        />
                <TextSymbolizer 
          fill= "#000000"
          face-name="DejaVu Sans Book" 
          size="35" > 
          [name]
          </TextSymbolizer>
      </Rule>
    </Style>

    <Style name="water">
      <Rule>
        <PolygonSymbolizer fill="#092d4c" />
      </Rule>
    </Style>

    <Style name="residential-area">
      <Rule>
        <PolygonSymbolizer fill="#FFF4D0" />
      </Rule>
    </Style>

    <Style name="buildings">
      <Rule>
        <PolygonSymbolizer fill="#D5C797" />
      </Rule>
    </Style>

    <Style name="parks">
      <Rule>
        <PolygonSymbolizer fill="#8eb581" />
      </Rule>
    </Style>

    <Style name="forests">
      <Rule>
        <PolygonSymbolizer fill="#5a7551" />
      </Rule>
    </Style>

    <Datasource name="db">
      <Parameter name="type">postgis</Parameter>
      <Parameter name="host">db</Parameter>
      <Parameter name="dbname">main</Parameter>
      <Parameter name="user">postgres</Parameter>      
      <Parameter name="password">postgres</Parameter>
      <Parameter name="estimate_extent">false</Parameter>
      <Parameter name="extent">1593204.5633652804 6451992.822211166,1619141.9267964694 6468472.731554675</Parameter>
    </Datasource>
  
    <Layer name="water">
        <StyleName>water</StyleName>
        <Datasource base="db">
            <Parameter name="table">
              (SELECT * FROM planet_osm_polygon as poly WHERE poly.natural = 'water') as world
            </Parameter>
        </Datasource>
    </Layer>
  
    <Layer name="residential-area">
        <StyleName>residential-area</StyleName>
        <Datasource base="db">
            <Parameter name="table">(SELECT * FROM planet_osm_polygon as p WHERE p.landuse = 'residential') as world</Parameter>
        </Datasource>
    </Layer>
  
    <Layer name="parks">
        <StyleName>parks</StyleName>
        <Datasource base="db">
            <Parameter name="table">
              (SELECT * FROM planet_osm_polygon as t WHERE t.leisure IS NOT NULL) as world
            </Parameter>
        </Datasource>
    </Layer>
  
    <Layer name="forests">
        <StyleName>forests</StyleName>
        <Datasource base="db">
            <Parameter name="table">
              (SELECT * FROM planet_osm_polygon as t WHERE t.landuse = 'forest') as world
            </Parameter>
        </Datasource>
    </Layer>

    <Layer name="roads">
        <StyleName>roads</StyleName>
        <Datasource base="db">
            <Parameter name="table">(SELECT * FROM planet_osm_line as l WHERE l.highway IS NOT NULL) as world</Parameter>
        </Datasource>
    </Layer>

    <!-- <Layer name="rails">
        <StyleName>rails</StyleName>
        <Datasource base="db">
            <Parameter name="table">(SELECT * FROM planet_osm_line as t WHERE t.railway IS NOT NULL) as world</Parameter>
        </Datasource>
    </Layer> -->
  
    <Layer name="buildings">
        <StyleName>buildings</StyleName>
        <Datasource base="db">
            <Parameter name="table">
              (SELECT * FROM planet_osm_polygon as poly WHERE poly.building IS NOT NULL) as world
            </Parameter>
        </Datasource>
    </Layer>
  
    <Layer name="text">
        <StyleName>text</StyleName>
        <Datasource base="db">
            <Parameter name="table">
              (SELECT * FROM planet_osm_point as p WHERE p.place = 'suburb') as world
            </Parameter>
        </Datasource>
    </Layer>
    
  </Map>